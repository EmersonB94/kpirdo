<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - RDO</title>
  <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
  <div class="navbar">
    <a href="page_inicio" class="selecionado">Início</a>
    <a id="page_obras" href="page_obras">Obras</a>
    <a id="page_usuario" href="page_usuario">Usuários</a>
    <a href="page_rdo">RDO</a>
    <a href="#" onclick="logout()">Sair</a>
  </div>

  <div class="container">
    <h1>Painel Geral</h1>
    <div id="resumo"></div>
  </div>

  <script>
    // === Verificar acesso e desativar botão Usuários ===
    document.addEventListener("DOMContentLoaded", () => {
        // Buscar dados do localStorage
        const usuario = JSON.parse(localStorage.getItem("usuarioLogadoRDO"));

        // Caso não exista, não faz nada
        if (!usuario || !usuario.perfilacesso) return;

        // Se NÃO for administrador -> desativa o botão
        if (usuario.perfilacesso !== "administrador") {
            const btnUsuarios = document.getElementById("page_usuario");
            const btnObras = document.getElementById("page_obras");
            
            if (btnUsuarios) {
                btnUsuarios.style.pointerEvents = "none";   // bloqueia clique
                btnUsuarios.style.opacity = "0.4";           // marca visualmente
                btnUsuarios.style.cursor = "not-allowed";    // cursor de bloqueado
            }

            if (btnObras) {
                btnObras.style.pointerEvents = "none";   // bloqueia clique
                btnObras.style.opacity = "0.4";           // marca visualmente
                btnObras.style.cursor = "not-allowed";    // cursor de bloqueado
            }
        }
    });
  </script>


  <script src="/static/js/inicio.js"></script>
</body>
</html>
